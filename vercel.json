{
  "version": 2,
  "builds": [
    {
      "src": "dorm-designer/package.json", // Points to the frontend's package.json
      "use": "@vercel/react"                // Use the React builder for your frontend
    },
    {
      "src": "back-end/index.js",            // Points to the backend's main entry file
      "use": "@vercel/node"                  // Deploys the backend as a serverless function
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",                   // Matches any API route
      "dest": "/back-end/$1"                // Directs API requests to the backend
    },
    {
      "src": "/(.*)",                        // Matches all other routes
      "dest": "/dorm-designer/$1"            // Directs all other requests to the frontend
    }
  ]
}
